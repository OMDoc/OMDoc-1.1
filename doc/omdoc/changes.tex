\chapter{Changes from Version 1.0}\label{sec:changelog}

In this section we will keep a log on the changes that have occurred in the
released versions of the {\omdoc} format. We will briefly tabulate the changes by
element name. For the state of an element we will use the shorthands ``dep'' for
deprecated (i.e. the element is no longer in use in the new {\omdoc} version),
``cha'' for changed, if the element is re-structured (i.e.  some additions and
losses), ``new'' if did not exist in the old {\omdoc} version, and finally ``aug''
for augmented, i.e. if it has obtained additional children or attributes in the
new {\omdoc} version.

Version 1.1 is mainly a bug-fix release that has become necessary by the
experiments of encoding legacy material in {\omdoc}. The changes are relatively
minor, mostly added optional fields. The only non-conservative changes concern the
{\element{private}}, {\element{hypothesis}}, {\element{sortdef}} and
{\element{signature}} elements.  {\omdoc} files can be upgraded to version 1.1
with the {\xslt} style sheet
{\url{http://www.mathweb.org/omdoc/xsl/omdoc1.0adapt1.1.xsl}}.

\begin{center}\footnotesize
\begin{longtable}{|l|c|p{7.1cm}|l|}\hline
  element                   & state       & comments & cf.\\\hline\hline
{\element{attribute}} & new
     & presentation of attributes for {\xml} elements 
     & \pageref{eldef:attribute}\\\hline
{\element{alternative}} & cha
     & new form of the {\oldelement{alternative-def}{1.1}} element, it can now also used
       as an alternative to {\element{axiom}}. Compared to
       {\oldelement{alternative-def}{1.1}} it has a new optional 
       attribute {\attribute{generated-by}{alternative}} to show that an
       assertion is generated by expanding a some other element like {\element{adt}}.
     & \pageref{eldef:alternative}\\\hline
{\oldelement{alternative-def}{1.1}} & dep
     & new form is {\element{alternative}}, since there can be alternative
     {\element{axiom}s} too.
     & \\\hline
{\element{argument}}    & cha
     & attribute {\attribute{sort}{argument}} is now of type IDREF, since it must be local
     in the definition.
     & \pageref{eldef:argument}\\\hline
{\element{assertion}}      & aug 
     & more values for the {\attribute{type}{assertion}}, new optional attribute
     {\attribute{generated-by}{assertion}} to show that an assertion is generated by
     expanding a {\element{definition}} or an {\element{adt}}. New optional
     attribute {\attribute{proofs}{assertion}}.
     & \pageref{eldef:assertion}\\\hline
{\oldelement{assertion-just}{1.1}} & dep
     & this is now {\element{obligation}} & \\\hline 
{\element{axiom}}          & aug 
     & new  optional attribute {\attribute{generated-by}{axiom}} to show that an
       axiom is generated by expanding a {\element{definition}}.
     & \pageref{eldef:axiom}\\\hline
{\element{axiom-inclusion}} & cha
     & now allows a {\element{CMP}} group for descriptive text, 
       includes a set of {\element{obligation}s} instead of an
       {\oldelement{assertion-just}{1.1}}.  The {\tt{timestamp}}
       attribute is deprecated, use {\element{dc:Date}} with appropriate
       {\attribute{action}{Date}} instead
     & \pageref{eldef:axiom-inclusion} \\\hline
{\element{CMP}}           & cha
     & the attribute {\tt{format}} is now deprecated, it makes no
     sense, since we are more strict and consistent about {\element{CMP}} content.
     & \pageref{eldef:CMP}\\\hline
{\element{code}}        & cha 
     & Attributes {\attribute{width}{omlet}} and {\attribute{height}{omlet}} now in
       {\element{omlet}}, got  attributes {\attribute{classid}{code}} and
       {\attribute{codebase}{code}} from  {\element{private}}. Attribute
       {\attribute{format}{data}} moved to {\element{data}} children.  

       The multilingual group of {\element{CMP}} elements for description is
       deprecated, use {\element{metadata}}/{\element{Description}} instead.      
       Child element {\element{data}} may appear multiple times (with 
       different values of the {\attribute{format}{data}}).
     & \pageref{eldef:code}\\\hline
{\element{constructor}}    & aug 
     & new optional child {\element{recognizer}} for a recognizer predicate
     & \pageref{eldef:constructor}\\\hline
{\oldelement{Coverage}{1.1}} & dep
     &  this Dublin Core element specifies the place or time which the
     publication's contents addresses. This does not seem appropriate for the
     mathematical content of {\omdoc}. 
     & \\\hline
{\element{data}}           & aug
     & new optional attributes {\attribute{size}{data}} to specify the size of the data
       file that is referenced by the {\attribute{href}{data}} attribute and
       {\attribute{format}{data}} for the format the data is in.
     & \pageref{eldef:data}\\\hline
{\tt{dc:*}}                 & aug 
     & {\element{Contributor}}, {\element{Creator}}, {\element{Publisher}} have 
       received an optional {\attribute{id}{dc:*}} 
       attribute, so that they can be cross-referenced by the new 
       {\attribute{who}{Date}} of the {\element{Date}} element.
     & \pageref{eldef:Title}\\\hline
{\tt{dc:{\element{Date}}}} & aug 
     & new optional {\attribute{who}{Date}} attribute that can be used to specify who
     did the {\attribute{action}{Date}} on this date.
     & \pageref{eldef:Date}\\\hline
{\tt{dc:{\oldelement{Translator}{1.1}}}} & dep
     & this element is not part of Dublin Core, it got into {\omdoc} by mistake, we
     use {\element{Contributor}} with {\attribute{role}{dc:*}}={\tt{trl}} for this.
     & \pageref{eldef:Contributor}\\\hline
{\element{decomposition}} & aug
     & has a new required {\attribute{id}{decomposition}} attribute. 
       It is no longer a child of {\element{theory-inclusion}}, but specifies which
       {\element{theory-inclusion}} it justifies by the new required attribute
       {\attribute{for}{decomposition}}. 
     & \pageref{eldef:decomposition} \\\hline
{\element{definition}}      & aug
     & new optional children {\element{measure}} and {\element{ordering}} 
       to specify termination of recursive definitions.  New optional 
       attribute {\attribute{generated-by}{definition}}  to show that it 
       is generated by expanding a {\element{definition}}.
     &\pageref{eldef:definition} \\\hline
{\element{element}} & new
     & presentation of {\xml} elements 
     & \pageref{eldef:element}\\\hline
{\element{FMP}}     & aug
     & now allows multiple {\element{conclusion}} elements, to represent general
       Gentzen-type sequents (not only natural deduction.)
     & \pageref{eldef:FMP}\\\hline
{\element{hypothesis}}     & cha
     & new {\bf required} attribute {\attribute{discharged-in}{hypothesis}} to specify the 
       {\element{derive}} or {\element{conclude}} element that discharges 
       this hypothesis. 
     & \pageref{eldef:hypothesis}\\\hline
{\element{measure}}         & new
     & specifies a measure function (as an OMOBJ)
     & \pageref{eldef:measure}\\\hline
{\element{metadata}}        & aug   
     & new optional attribute {\attribute{inherits}{metadata}} that allows to inherit 
       metadata from other declarations 
     & \pageref{eldef:metadata}\\\hline
{\element{method}} & cha
     & first child that used to be an {\element{OMSTR}} or {\element{ref}} element
     is now moved into a required {\attribute{xref}{method}} attribute that holds an URI
     that points to the element that defines the method. The {\element{OMOBJ}}
     content of the other children (they were {\element{paramter}} elements) is
     now directly included in the {\element{method}} element.
     &\pageref{eldef:method}\\\hline
{\element{obligation}} & new
     & takes over the role of {\oldelement{assertion-just}{1.1}}.
     & \\\hline
{\element{omgroup}}        & aug
     & also allows the elements that can only appear in {\element{theory}}
       elements, so that {\element{omgroup}}s can also be used for grouping inside
       {\element{theory}} elements. The
       {\attribute{type}{omgroup}} attribute is now restrained to one of 
       {\attval{narrative}{type}{omgroup}}, {\attval{sequence}{type}{omgroup}}, 
       {\attval{alternative}{type}{omgroup}}, {\attval{contrast}{type}{omgroup}}.
     & \pageref{eldef:omgroup}\\\hline
{\element{omlet}}          & aug
     & obtained attributes {\attribute{width}{omlet}} and {\attribute{height}{omlet}} from
       {\element{private}}. New optional attributes {\attribute{action}{omlet}}  
       for the action to be taken when 
       activated, and {\attribute{data}{omlet}} a URIref to data in a private
       element. New optional attribute {\attribute{type}{omlet}} for the type of
       the applet.     
     & \pageref{eldef:omlet}\\\hline
{\element{omstyle}} & new
     & for specifying the style of {\omdoc} elements
     & \pageref{eldef:omstyle}\\\hline
{\element{omtext}} & cha
     & the {\attribute{from}{omtext}} is deprecated, we only leave the {\attribute{for}{omtext}}
       attribute, to specify the referential character of the {\attribute{type}{omtext}}.
     &\pageref{eldef:omtext}\\\hline
{\element{ordering}}         & new
     & specifies a well-founded ordering (as an OMOBJ)
     & \pageref{eldef:ordering}\\\hline
{\oldelement{parameter}{1.1}}      & dep
     & the {\element{OMOBJ}} element child is now directly a child of
     {\element{method}}
     & \\\hline
{\element{pattern}}         & cha
     & the child can be an arbitrary{\openmath} element.
     & \pageref{eldef:pattern}\\\hline
{\element{premise}}         & cha
     & new optional attribute {\attribute{rank}{premise}} for the importance in
       the inference rule. The old {\tt{href}} attribute is renamed to  
       {\attribute{xref}{premise}} to be consistent with other cross-referening.
     & \\\hline
{\element{presentation}}    & aug
     &  {\attribute{id}{presentation}} attribute is now optional. new attribute
        {\attribute{xref}{presentation}} that allows to inherit the information
        from another {\element{presentation}} element. New attribute
        {\attribute{theory}{presentation}} to specify the theory the symbol is from; without
        this, referencing in {\omdoc} is not unique. 
     & \pageref{eldef:presentation}\\\hline
{\element{private}}        & cha
     & new optional attribute {\attribute{for}{private}} to point to an {\omdoc} element it 
       provides data for. As a consequence, {\element{private}} elements 
       are no longer allowed in other {\omdoc} elements, only on top-level. 
       New attribute {\attribute{replaces}{private}} as a pointer to the {\omdoc} 
       elements that are replaced by the system-specific information in 
       this element. Old attributes {\attribute{width}{omlet}} and
       {\attribute{height}{omlet}} now in {\element{omlet}}. Attribute
       {\attribute{format}{data}} moved to {\element{data}} children.

       The multilingual group of {\element{CMP}} elements for description is
       deprecated, use {\element{metadata}}/{\element{Description}} instead.
       
       Child element {\element{data}} may appear multiple times (with 
       different values of the {\attribute{format}{data}}). The
       attributes {\attribute{classid}{private}} and
       {\attribute{codebase}{private}} are deprecated, since they only make sense on the
       {\element{code}} element.
     & \pageref{eldef:private}\\\hline
{\element{proof},\element{proofobject}} & cha
     & attribute {\attribute{theory}{proof}} is now optional, since it can appear
       in a {\element{theory}}.
     & \pageref{eldef:proof}\\\hline
{\element{recognizer}}   & new
     & specifies the recognizer predicate of a sort.
     & \pageref{eldef:recognizer}\\\hline
{\element{recurse}} & new
     &  recursive calls to presentation in {\element{style}}.
     & \pageref{eldef:recurse}\\\hline
{\element{ref}}            & cha
     & attribute {\attribute{kind}{ref}} renamed to {\attribute{type}{kind}}.
     & \pageref{eldef:ref}\\\hline
{\element{selector}}     & cha
     & the old {\attribute{type}{selector}} attribute (had values 
     {\tt{total}} and {\tt{partial}}) is deprecated, its duty is now carried by an attribute
     {\attribute{total}{selector}} (values {\attval{yes}{total}{selector}} and 
     {\attval{no}{total}{selector}}). 
     & \pageref{eldef:selector}\\\hline
{\oldelement{signature}{1.1}}      & dep & for the moment & \\\hline
{\element{sortdef}}         & cha
     & attribute {\attribute{id}{sortdef}} is now mandatory, otherwise the defined
     symbol  no name. The {\tt{kind}} that was fixed to {\tt{sort}} is
     deprecated, this piece of information is redundant.
     &  \pageref{eldef:sortdef} \\\hline
{\element{style}} & new
     & allows to specify style information in {\element{presentation}} and
       {\element{omstyle}} elements using a simplified {\omdoc}-internalized
       version of {\xslt}.
     & \pageref{eldef:style}\\\hline
{\element{symbol}}          &  aug
     & new optional attribute {\attribute{generated-by}{symbol}}  to show that it
        is generated by expanding a {\element{definition}}.
     & \pageref{eldef:symbol}\\\hline
{\element{text}} & new
     & presentation of text in {\element{omstyle}}.
     & \pageref{eldef:text}\\\hline
{\element{theory-inclusion}} & cha
     & now allows {\element{CMP}} group  for descriptive text, 
       no longer has a {\element{decomposition}} child, this is now attatched  by
       its {\attribute{for}{decomposition}} attribute. The {\tt{timestamp}}
       attribute is deprecated, use {\element{dc:Date}} with appropriate
       {\attribute{action}{Date}} instead.
     & \pageref{eldef:theory-inclusion}\\\hline
{\element{type}} & aug
     & can now also appear on top-level. Has an optional {\attribute{id}{type}} attribute
       for identification, and an optional {\attribute{for}{type}} attribute to point to
       a {\element{symbol}} element it declares type information for.
     & \pageref{eldef:type}\\\hline
{\element{use}}            & aug
     & New attribute {\attribute{element}{use}}
       allows to specify that the content should be encased in an XML element with
       the attribute-value pairs specified in the string specified in the attribute
       {\attribute{attributes}{use}}. 
     & \pageref{eldef:use}\\\hline
{\element{value-of}} & new
     & presentation of values in {\element{style}}.
     & \pageref{eldef:value-of}\\\hline
{\element{with}}           & new
     & used to supply fragements of text in {\element{CMP}s} with
       {\attribute{id}{with}} and {\attribute{id}{style}} attributes that can be
       used for presentation and referencing.
     & \pageref{eldef:with}\\\hline
{\element{xslt}}   & new
     & allows to embed {\xslt} into {\element{presentation}} and
       {\element{omstyle}} elements.
     & \pageref{eldef:xslt}\\\hline
\end{longtable}
\end{center}


%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "omdoc"
%%% End: 
